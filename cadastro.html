<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro - DigiVend</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="form-container">
    <h2>Crie sua conta</h2>
    <form id="cadastroForm">

      <!-- Nome -->
      <div class="form-group">
        <label for="nome">Nome completo</label>
        <input type="text" id="nome" name="nome" required>
      </div>

      <!-- Email -->
      <div class="form-group">
        <label for="email">E-mail</label>
        <input type="email" id="email" name="email" required>
      </div>

      <!-- Telefone -->
      <div class="form-group">
        <label for="telefone">Número de telefone</label>
        <input type="text" id="telefone" name="telefone" placeholder="Ex: 85999999999" required>
      </div>

      <!-- Senha -->
      <div class="form-group">
        <label for="senha">Senha</label>
        <input type="password" id="senha" name="senha" required>
      </div>

      <!-- Confirmar senha -->
      <div class="form-group">
        <label for="confirmarSenha">Confirmar Senha</label>
        <input type="password" id="confirmarSenha" name="confirmarSenha" required>
      </div>

      <!-- Termos -->
      <div class="form-group checkbox">
        <input type="checkbox" id="termos" required>
        <label for="termos">Aceito os <a href="#">termos e condições</a></label>
      </div>

      <!-- Notificações -->
      <div class="form-group checkbox">
        <input type="checkbox" id="notificacoes">
        <label for="notificacoes">Quero receber notificações por e-mail ou celular</label>
      </div>

      <!-- Botão -->
      <button type="submit">Cadastrar</button>
    </form>
  </div>

  <!-- Script de validação -->
  <script>
    document.getElementById("cadastroForm").addEventListener("submit", function(e) {
      e.preventDefault(); // evita envio automático

      const nome = document.getElementById("nome").value.trim();
      const email = document.getElementById("email").value.trim();
      const telefone = document.getElementById("telefone").value.trim();
      const senha = document.getElementById("senha").value.trim();
      const confirmarSenha = document.getElementById("confirmarSenha").value.trim();

      // Regex de senha forte: min 8 caracteres, 1 maiúscula, 1 número e 1 símbolo
      const senhaForte = /^(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$/;

      // Validações
      if (!nome) {
        alert("Digite seu nome.");
        return;
      }

      if (!email.includes("@") || !email.includes(".")) {
        alert("Digite um email válido.");
        return;
      }

      if (!telefone.match(/^\d{9,15}$/)) {
        alert("Digite um número de telefone válido (somente dígitos, entre 9 e 15).");
        return;
      }

      if (!senhaForte.test(senha)) {
        alert("A senha deve ter pelo menos 8 caracteres, 1 letra maiúscula, 1 número e 1 caractere especial.");
        return;
      }

      if (senha.toLowerCase().includes(nome.toLowerCase()) || senha.toLowerCase().includes(email.split("@")[0].toLowerCase())) {
        alert("A senha não pode conter seu nome ou parte do email.");
        return;
      }

      if (senha !== confirmarSenha) {
        alert("As senhas não coincidem.");
        return;
      }

      if (!document.getElementById("termos").checked) {
        alert("Você precisa aceitar os termos e condições.");
        return;
      }

      // Se passou em todas validações
      alert("Cadastro validado com sucesso! Agora podemos avançar para a confirmação por email/telefone.");
      this.submit();
    });
  </script>

</body>
</html>
